<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta name="format-detection" content="telephone=no" />
	<link rel="apple-touch-icon" sizes="180x180" href="../../resources/img/guide/favicon_180.png">
	<link rel="icon" type="image/png" sizes="512x512" href="../../resources/img/guide/favicon_512.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="../../resources/img/guide/favicon_192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../../resources/img/guide/favicon_32.png">
	<title>GINI - Global Innopolis Network Initiative</title>
	<link href="../../resources/css/swiper-bundle.min.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/pattern_css.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/output/p_common.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/output/p_content.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/output/p_layout.css" type="text/css" rel="stylesheet" />

	 <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css' rel='stylesheet' />
	<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/locales/ko.global.min.js"></script>

<title>Insert title here</title>
</head>
<body>
<div id="wrap">
		<!-- 본문 바로가기 영역 -->
		<!-- //본문 바로가기 영역 -->
		<!-- 상단 배너영역 -->
		<!-- //상단 배너영역 -->

		<!-- 헤더 영역 -->
				<!-- //헤더 상단 기타메뉴 -->
			<!-- //헤더 컨텐츠 영역  -->
			
			<!-- 모바일 : 전체메뉴 -->
		<!-- //헤더 영역 -->

		<!-- 컨테이너 영역 -->
		<div id="container">
			<!-- breadcrumb -->
			<nav class="breadcrumb-wrap" aria-label="브레드크럼">
				<ol class="breadcrumb">
					<li class="home"><a href="#" class="txt">Home</a></li>
					<li><a href="#" class="txt">Programs</a></li>
					<li><a href="#" class="txt">Event</a></li>
				</ol>
			</nav>
			<!-- breadcrumb -->

			<!-- 컨텐츠 영역 -->
			<div class="inner">
				<!-- 페이지 타이틀 영역 -->
				<div class="page-title-wrap">
					<h2 class="h-tit">Schedule Management</h2>
					<p>Quickly upload current and bla bla</p>
					
					<button type="button" onclick="registerEvent()">등록하기</button>
				</div>
				<!-- //페이지 타이틀 영역 -->
				<!-- 일정등록 폼 -->
				 <div class="gini-cont-wrap">
					<div class="gini-cont-box">
						<div class="row cont100">
							<!-- 폼그룹 left -->
							<input type="file" name="uploadFiles" multiple id="uploadFiles"style="display:none;" onchange="handleFileUpload(event)" />
							<div class="cont-left cont50">
								<!-- 폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="consult_name">Event Title</label>
									</div>
									<div class="form-conts">
										<input type="text" id="consult_name" class="form-control" placeholder="Event Title">
									</div>
								</div>
								<!-- //폼그룹 -->
								<!-- 날짜 입력 필드 폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="cal">Start Date & Time</label>
									</div>
									<div class="form-conts form-row">
										<div class="form-conts datepicker-conts">
											<div class="datepicker-input">
												<input type="datetime-local" class="form-control  datepicker cal" id="startdate" placeholder="Select date" id="cal">
												<button type="button" class="form-btn-datepicker">
													<span class="sr-only">달력 열기</span>
												</button>
											</div>
											<!-- <div class="datepicker-area">
												<div class="datepicker-wrap bottom" aria-hidden="true" tabindex="-1">
													<div class="datepicker-head">
														<button type="button" class="btn-cal-move prev"><span class="sr-only">이전 달</span></button>
														<div class="datepicker-switch-wrap">
															<button type="button" class="btn-cal-switch year">2023년</button>
															<button type="button" class="btn-cal-switch month">12월</button>
														</div>
														<button type="button" class="btn-cal-move next"><span class="sr-only">다음 달</span></button>
													</div>
													<div class="datepicker-body">
														<div class="datepicker-conts datepicker-tbl-wrap" aria-hidden="true" tabindex="-1">
															<table class="datepicker-tbl">
																<thead>
																	<tr>
																		<th>Su</th>
																		<th>Mo</th>
																		<th>Tu</th>
																		<th>We</th>
																		<th>Th</th>
																		<th>Fr</th>
																		<th>Sa</th>
																	</tr>
																</thead>
																<tbody>
																	<tr>
																		<td class="old"><button type="button" class="btn-set-date">26</button></td>
																		<td class="old"><button type="button" class="btn-set-date">27</button></td>
																		<td class="old"><button type="button" class="btn-set-date">28</button></td>
																		<td class="old"><button type="button" class="btn-set-date">29</button></td>
																		<td class="old"><button type="button" class="btn-set-date">30</button></td>
																		<td><button type="button" class="btn-set-date">1</button></td>
																		<td><button type="button" class="btn-set-date">2</button></td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">3</button></td>
																		<td><button type="button" class="btn-set-date">4</button></td>
																		<td><button type="button" class="btn-set-date">5</button></td>
																		<td><button type="button" class="btn-set-date">6</button></td>
																		<td class="period start"><button type="button" class="btn-set-date">7</button>
																		</td>
																		<td class="period"><button type="button" class="btn-set-date">8</button></td>
																		<td class="period"><button type="button" class="btn-set-date">9</button></td>
																	</tr>
																	<tr>
																		<td class="period"><button type="button" class="btn-set-date">10</button></td>
																		<td class="period"><button type="button" class="btn-set-date">11</button></td>
																		<td class="period"><button type="button" class="btn-set-date">12</button></td>
																		<td class="period"><button type="button" class="btn-set-date">13</button></td>
																		<td class="period"><button type="button" class="btn-set-date">14</button></td>
																		<td class="period"><button type="button" class="btn-set-date">15</button></td>
																		<td class="period end"><button type="button" class="btn-set-date">16</button>
																		</td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">17</button></td>
																		<td><button type="button" class="btn-set-date">18</button></td>
																		<td><button type="button" class="btn-set-date">19</button></td>
																		<td><button type="button" class="btn-set-date">20</button></td>
																		<td><button type="button" class="btn-set-date">21</button></td>
																		<td><button type="button" class="btn-set-date">22</button></td>
																		<td><button type="button" class="btn-set-date">23</button></td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">24</button></td>
																		<td><button type="button" class="btn-set-date">25</button></td>
																		<td><button type="button" class="btn-set-date">26</button></td>
																		<td><button type="button" class="btn-set-date">27</button></td>
																		<td><button type="button" class="btn-set-date">28</button></td>
																		<td><button type="button" class="btn-set-date">29</button></td>
																		<td><button type="button" class="btn-set-date">30</button></td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">31</button></td>
																		<td class="new"><button type="button" class="btn-set-date">1</button></td>
																		<td class="new"><button type="button" class="btn-set-date">2</button></td>
																		<td class="new"><button type="button" class="btn-set-date">3</button></td>
																		<td class="new"><button type="button" class="btn-set-date">4</button></td>
																		<td class="new"><button type="button" class="btn-set-date">5</button></td>
																		<td class="new"><button type="button" class="btn-set-date">6</button></td>
																	</tr>
																</tbody>
															</table>
														</div>
														<div class="datepicker-conts datepicker-year-wrap" aria-hidden="true" tabindex="-1">
															<ul class="sel year">
																<li>
																	<button type="button" class="btn sm">2001</button>
																</li>
																<li>
																	<button type="button" class="btn sm active">2002</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2003</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2004</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2005</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2006</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2007</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2008</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2009</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2010</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2011</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2012</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2013</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2014</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2015</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2016</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2017</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2018</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2019</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2020</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2021</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2022</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2023</button>
																</li>
															</ul>
														</div>
														<div class="datepicker-conts datepicker-mon-wrap" aria-hidden="true" tabindex="-1">
															<ul class="sel month">
																<li>
																	<button type="button" class="btn sm">01월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">02월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">03월</button>
																</li>
																<li>
																	<button type="button" class="btn sm active">04월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">05월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">06월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">07월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">08월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">09월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">10월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">11월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">12월</button>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div> -->
										</div>
									</div>
								</div>
								<!-- //날짜 입력 필드 폼그룹 -->
								<!-- 날짜 입력 필드 폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="cal">End Date & Time</label>
									</div>
									<div class="form-conts form-row">
										<div class="form-conts datepicker-conts">
											<div class="datepicker-input">
												<input type="datetime-local" class="form-control  datepicker cal" id="enddate" placeholder="Select date" id="cal">
												<button type="button" class="form-btn-datepicker">
													<span class="sr-only">달력 열기</span>
												</button>
											</div>
											<!-- <div class="datepicker-area">
												<div class="datepicker-wrap bottom" aria-hidden="true" tabindex="-1">
													<div class="datepicker-head">
														<button type="button" class="btn-cal-move prev"><span class="sr-only">이전 달</span></button>
														<div class="datepicker-switch-wrap">
															<button type="button" class="btn-cal-switch year">2023년</button>
															<button type="button" class="btn-cal-switch month">12월</button>
														</div>
														<button type="button" class="btn-cal-move next"><span class="sr-only">다음 달</span></button>
													</div>
													<div class="datepicker-body">
														<div class="datepicker-conts datepicker-tbl-wrap" aria-hidden="true" tabindex="-1">
															<table class="datepicker-tbl">
																<thead>
																	<tr>
																		<th>Su</th>
																		<th>Mo</th>
																		<th>Tu</th>
																		<th>We</th>
																		<th>Th</th>
																		<th>Fr</th>
																		<th>Sa</th>
																	</tr>
																</thead>
																<tbody>
																	<tr>
																		<td class="old"><button type="button" class="btn-set-date">26</button></td>
																		<td class="old"><button type="button" class="btn-set-date">27</button></td>
																		<td class="old"><button type="button" class="btn-set-date">28</button></td>
																		<td class="old"><button type="button" class="btn-set-date">29</button></td>
																		<td class="old"><button type="button" class="btn-set-date">30</button></td>
																		<td><button type="button" class="btn-set-date">1</button></td>
																		<td><button type="button" class="btn-set-date">2</button></td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">3</button></td>
																		<td><button type="button" class="btn-set-date">4</button></td>
																		<td><button type="button" class="btn-set-date">5</button></td>
																		<td><button type="button" class="btn-set-date">6</button></td>
																		<td class="period start"><button type="button" class="btn-set-date">7</button>
																		</td>
																		<td class="period"><button type="button" class="btn-set-date">8</button></td>
																		<td class="period"><button type="button" class="btn-set-date">9</button></td>
																	</tr>
																	<tr>
																		<td class="period"><button type="button" class="btn-set-date">10</button></td>
																		<td class="period"><button type="button" class="btn-set-date">11</button></td>
																		<td class="period"><button type="button" class="btn-set-date">12</button></td>
																		<td class="period"><button type="button" class="btn-set-date">13</button></td>
																		<td class="period"><button type="button" class="btn-set-date">14</button></td>
																		<td class="period"><button type="button" class="btn-set-date">15</button></td>
																		<td class="period end"><button type="button" class="btn-set-date">16</button>
																		</td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">17</button></td>
																		<td><button type="button" class="btn-set-date">18</button></td>
																		<td><button type="button" class="btn-set-date">19</button></td>
																		<td><button type="button" class="btn-set-date">20</button></td>
																		<td><button type="button" class="btn-set-date">21</button></td>
																		<td><button type="button" class="btn-set-date">22</button></td>
																		<td><button type="button" class="btn-set-date">23</button></td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">24</button></td>
																		<td><button type="button" class="btn-set-date">25</button></td>
																		<td><button type="button" class="btn-set-date">26</button></td>
																		<td><button type="button" class="btn-set-date">27</button></td>
																		<td><button type="button" class="btn-set-date">28</button></td>
																		<td><button type="button" class="btn-set-date">29</button></td>
																		<td><button type="button" class="btn-set-date">30</button></td>
																	</tr>
																	<tr>
																		<td><button type="button" class="btn-set-date">31</button></td>
																		<td class="new"><button type="button" class="btn-set-date">1</button></td>
																		<td class="new"><button type="button" class="btn-set-date">2</button></td>
																		<td class="new"><button type="button" class="btn-set-date">3</button></td>
																		<td class="new"><button type="button" class="btn-set-date">4</button></td>
																		<td class="new"><button type="button" class="btn-set-date">5</button></td>
																		<td class="new"><button type="button" class="btn-set-date">6</button></td>
																	</tr>
																</tbody>
															</table>
														</div>
														<div class="datepicker-conts datepicker-year-wrap" aria-hidden="true" tabindex="-1">
															<ul class="sel year">
																<li>
																	<button type="button" class="btn sm">2001</button>
																</li>
																<li>
																	<button type="button" class="btn sm active">2002</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2003</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2004</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2005</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2006</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2007</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2008</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2009</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2010</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2011</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2012</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2013</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2014</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2015</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2016</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2017</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2018</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2019</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2020</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2021</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2022</button>
																</li>
																<li>
																	<button type="button" class="btn sm">2023</button>
																</li>
															</ul>
														</div>
														<div class="datepicker-conts datepicker-mon-wrap" aria-hidden="true" tabindex="-1">
															<ul class="sel month">
																<li>
																	<button type="button" class="btn sm">01월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">02월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">03월</button>
																</li>
																<li>
																	<button type="button" class="btn sm active">04월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">05월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">06월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">07월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">08월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">09월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">10월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">11월</button>
																</li>
																<li>
																	<button type="button" class="btn sm">12월</button>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div> -->
										</div>
									</div>
								</div>
								<!-- //날짜 입력 필드 폼그룹 -->
								<!-- 폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="">Contact</label>
									</div>
									<div class="form-conts">
										<input type="tel" id="" class="form-control" placeholder="Contact">
									</div>
								</div>
								<!-- //폼그룹 -->
								<div class="form-group margin-b">
									<div class="form-tit lg">
										<label for="">Upload Thumbnail</label>
									</div>
									<div class="form-conts row">
										<input id="userId" type="text" maxlength="16" class="form-control">
										<button type="button" class="btn lg secondary"> Search </button>
									</div>
									<p class="form-hint info"> 00 byte까지 허용 </p>
								</div>
							</div>
							<!-- //폼그룹 left -->
							<!-- cont-right -->
							<div class="cont-right cont50">
								<!-- 폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="consult_name">Event Description</label>
									</div>
									<div class="form-conts">
										<input type="text" id="description" class="form-control" placeholder="Event Description">
									</div>
								</div>
								<!-- //폼그룹 -->
								<!-- 폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="consult_name">Organizer</label>
									</div>
									<div class="form-conts">
										<select class="form-select lg" id="selectOrg" title="선택">
											<option value="">GINI</option>
											<option value="">City of Daejeon</option>
											<option value="">City of Dortmund</option>
											<option value="">City of Malaga</option>
											<option value="">County of Montgomery, MD</option>
											<option value="">City of Seattle</option>
											<option value="">Province of Quebec</option>
										</select>
									</div>
								</div>
								<!-- //폼그룹 -->
								<div class="form-group">
									<div class="form-tit">
										<label for="consult_name">Location</label>
									</div>
									<div class="form-conts">
										<input type="text" id="" class="form-control" placeholder="Location 넣을지 말지 협의 필요">
									</div>
								</div>
								<div class="form-group">
									<div class="form-tit">
										<label for="consult_name">External Link</label>
									</div>
									<div class="form-conts">
										<input type="text" id="" class="form-control" placeholder="https://example.com">
									</div>
								</div>
								<div class="form-group chk-area">
									<div class="form-tit">
										<label for="consult_name">Event Status</label>
									</div>
									<div class="form-conts form-row">
										<div class="form-check lg">
											<input type="radio" name="" id="" checked>
											<label for="">Upcoming</label>
										</div>
										<div class="form-check lg">
											<input type="radio" name="" id="">
											<label for="">Ongoing</label>
										</div>
									</div>
								</div>
								<!-- //폼 끝 -->
							</div>
							<!-- //cont-right -->
						</div>
					</div>

					<div class="gini-cont-box">
						<div class="row">
							<!-- 파일업로드 -->
							<div class="file-upload cont50" ondragover="f_over()"   ondrop="f_drop()">
								<p class="txt">첨부할 파일을 여기에 끌어다 놓거나, 파일 선택 버튼을 눌러 파일을 직접 선택해주세요.</p>
								<button type="button" class="btn primary ico-before ico-upload md" onclick="document.getElementById('uploadFiles').click()">파일선택</button>
							</div>
							<!-- //파일업로드 -->
							<!-- 파일업로드 -->
							<div class="file-upload-result cont50">
								<div class="upload-top">
									<div class="file-total"><span class="current">0개</span> / 6개(몇개로 할지 협의 필요)</div>
								</div>
								<ul class="upload-list" id="fileListArea">
									<!-- <li >
										<div class="in">
											<div class="file-name">파일 제목1 [hwp, 17KB]</div>
											<div class="file-btn">
												<button type="button" class="btn btn-txt ico-before ico-del sm h-auto">삭제</button>
											</div>
										</div>
									</li>
									<li class="is-error">
										<div class="in">
											<div class="file-name">파일 제목2 [hwp, 17KB]</div>
											<div class="file-btn">
												<span class="ico-invalid error">
													<em class="sr-only">에러</em>
												</span>
												<button type="button" class="btn btn-txt ico-before ico-del sm h-auto">삭제</button>
											</div>
										</div>
										<p class="file-hint">
											등록 가능한 파일 용량을 초과하였습니다.<br>
											20MB 미만의 파일만 등록할 수 있습니다. 
										</p>
									</li>
									<li>
										<div class="in">
											<div class="file-name">파일 제목1 [hwp, 17KB] </div>
											<div class="file-btn">
												<span class="spinner"></span>
											</div>
										</div>
									</li>
									<li>
										<div class="in">
											<div class="file-name">파일 제목2 [hwp, 17KB] </div>
											<div class="file-btn">
												<span class="ico-invalid ok">
													<em class="sr-only">정상</em>
												</span>
											</div>
										</div>
									</li>
									<li>
										<div class="in">
											<div class="file-name">파일 제목3 [hwp, 17KB] </div>
											<div class="file-btn">
												<button type="button" class="btn btn-txt ico-before ico-del sm h-auto">삭제</button>
											</div>
										</div>
									</li>
									<li>
										<div class="in">
											<div class="file-name">파일 제목4 [hwp, 17KB] </div>
											<div class="file-btn">
												<button type="button" class="btn btn-txt ico-before ico-del sm h-auto">삭제</button>
											</div>
										</div>
									</li> -->
								</ul>
								<div class="upload-delete-btn">
									<button type="button" class="btn btn-txt ico-before ico-del sm h-auto " onclick="deleteAllFiles()">전체 파일 삭제</button>
								</div>
							</div>
							<!-- //파일업로드 리스트 -->

						</div>
					</div>
				 </div>
				<!-- //일정등록 폼 -->

					

			</div>
			<!-- //컨텐츠 영역 -->
		</div>
		<!-- //컨테이너 영역 -->

		<!-- 푸터 영역 -->
		<!-- //푸터 영역 -->
	</div>

	<!-- 레이어 : 검색필터 -->
	<div class="popup-wrap" data-type="bottom" id="popFilterId">
		<div class=" popup-in">
			<div class="popup">
				<div class="popup-head">
					<h1 class="pop-tit">검색필터</h1>
					<button type="button" class="popup-close">
						<span class="sr-only">레이어 닫기</span>
					</button>
				</div>
				<div class="popup-body">
					<div class="pop-filter-top">
						<dl class="filter-dl">
							<dt>적용된 필터 (0)</dt>
							<dd>적용된 필터가 없습니다. 검색 필터를 통해 상세한 검색을 해보세요</dd>
						</dl>
					</div>
					<ul class="acco-list filter-list is-open">
						<li class="li">
							<div class="acco-head">
								<h4 class="tit"><label for="select1">생애 주기</label></h4>
								<button type="button" class="btn btn-ico acco-btn">
									<span class="sr-only">펼침</span>
								</button>
							</div>
							<div class="acco-body">
								<div class="acco-in">
									<select class="form-select md" id="select1">
										<option value="">전체</option>
									</select>
								</div>
							</div>
						</li>
						<li class="li">
							<div class="acco-head">
								<h4 class="tit"><label for="select2">가구 상황</label></h4>
								<button type="button" class="btn btn-ico acco-btn">
									<span class="sr-only">펼침</span>
								</button>
							</div>
							<div class="acco-body">
								<div class="acco-in">
									<select class="form-select md" id="select2">
										<option value="">전체</option>
									</select>
								</div>
							</div>
						</li>
						<li class="li">
							<div class="acco-head">
								<h4 class="tit"><label for="select3">관심 주제</label></h4>
								<button type="button" class="btn btn-ico acco-btn">
									<span class="sr-only">펼침</span>
								</button>
							</div>
							<div class="acco-body">
								<div class="acco-in">
									<select class="form-select md" id="select3">
										<option value="">전체</option>
									</select>
								</div>
							</div>
						</li>
					</ul>
				</div>
				<div class="popup-btm">
					<button type="button" class="btn xlg tertiary">모든 조건 삭제</button>
					<button type="button" class="btn xlg">적용하기</button>
				</div>
			</div>
		</div>
	</div>
	<!-- //레이어 : 검색필터 -->

	<!-- 스크립트 : 라이브러리 -->
	<script src="../../resources/js/pattern/jquery.min.js"></script>

	<!-- 스크립트 : 패턴 페이지 -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="../../resources/js/pattern/ui-pattern-script.js"></script>
	

	<!-- 스크립트 : 컴포넌트 -->
	<script src="../../resources/js/component/ui-script.js"></script>
	<script>
		/* layer : 검색필터 */
		const $tag = document.querySelector(".pop-filter-top .tag-in");
		const $tagBtn = document.querySelector(".pop-filter-top #btn-toggle");
		if ($tagBtn) {
			$tagBtn.addEventListener("click", (e) => {
				if (!e.target.classList.contains("active")) {
					$tag.classList.add("is-open");
					e.target.classList.add("active");
				} else {
					$tag.classList.remove("is-open");
					e.target.classList.remove("active");
				}
			});
		}
	</script>
<script>
  // 전역 파일 저장 배열
  let uploadedFiles = [];

  function formatBytes(bytes) {
    if (bytes === 0) return '0KB';
    const k = 1024;
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    const size = parseFloat((bytes / Math.pow(k, i)).toFixed(1));
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    return `\${size} \${sizes[i]}`;
  }

  function updateFileCount() {
    const countSpan = document.querySelector('.file-total .current');
    const validCount = uploadedFiles.length;
    countSpan.textContent = `${validCount}개`;
  }

  function deleteAllFiles() {
    uploadedFiles = [];
    const fileListArea = document.getElementById('fileListArea');
    fileListArea.innerHTML = '';
    updateFileCount();
  }

  function handleFileUpload(event) {
    const files = event.target.files;
    const fileListArea = document.getElementById('fileListArea');

    for (let i = 0; i < files.length; i++) {
      const file = files[i];

      if (file.size > 20 * 1024 * 1024) {
        const li = document.createElement('li');
        li.classList.add('is-error');
        li.innerHTML = `
          <div class="in">
            <div class="file-name">\${file.name} [\${file.name.split('.').pop()}, \${formatBytes(file.size)}]</div>
            <div class="file-btn">
              <span class="ico-invalid error"><em class="sr-only">에러</em></span>
              <button type="button" class="btn btn-txt ico-before ico-del sm h-auto" onclick="this.closest('li').remove(); updateFileCount();">삭제</button>
            </div>
          </div>
          <p class="file-hint">등록 가능한 파일 용량을 초과하였습니다.<br>20MB 미만의 파일만 등록할 수 있습니다.</p>
        `;
        fileListArea.appendChild(li);
        continue;
      }

      if (uploadedFiles.length >= 6) {
        alert("최대 6개의 파일만 등록할 수 있습니다.");
        break;
      }

      uploadedFiles.push(file);

      const li = document.createElement('li');
      li.innerHTML = `
        <div class="in">
          <div class="file-name">${file.name} [\${file.name.split('.').pop()}, \${formatBytes(file.size)}]</div>
          <div class="file-btn">
            <button type="button" class="btn btn-txt ico-before ico-del sm h-auto" onclick="deleteSingleFile(${uploadedFiles.length - 1}, this)">삭제</button>
          </div>
        </div>
      `;
      fileListArea.appendChild(li);
    }

    updateFileCount();
    event.target.value = '';
  }

  function deleteSingleFile(index, button) {
    uploadedFiles.splice(index, 1);
    button.closest('li').remove();
    updateFileCount();
  }

  function f_over(event) {
    event.preventDefault();
    event.stopPropagation();
  }

  function f_drop(event) {
    event.preventDefault();
    event.stopPropagation();
  }

  function registerEvent() {
    const title = document.getElementById("consult_name").value;
    const start = document.getElementById("startdate").value;
    const end = document.getElementById("enddate").value;
    const citySelect = document.getElementById("selectOrg");
    const cityValue = citySelect.value;
    const description = document.getElementById("description").value;

    if (!title || !start || !end) {
      alert("모든 항목을 입력하세요.");
      return;
    }

    if (uploadedFiles.length > 6) {
      alert("파일은 최대 6개까지 등록 가능합니다.");
      return;
    }

    const formData = new FormData();
    formData.append("eventTitle", title);
    formData.append("startDatetime", start);
    formData.append("endDatetime", end);
    formData.append("eventDescription", description);
    formData.append("organizer", cityValue);
    formData.append("location", '');
    formData.append("contact", '');
    formData.append("uploadThumbnail", '');
    formData.append("externalLink", '');
    formData.append("eventStatus", 'UPCOMING');

    uploadedFiles.forEach(file => {
      formData.append("uploadFiles", file);
    });

    axios.post('/distep/calendar/register.do', formData, {
      headers: {
        'Content-Type': 'multipart/form-data'
      }
    })
    .then(response => {
      alert('일정이 등록되었습니다.');
      // TODO: 폼 초기화 필요 시 여기서 수행
      location.href = '/distep/calendar.do';
    })
    .catch(error => {
      console.error('등록 오류:', error);
      alert('일정 등록 실패');
    });
  }
</script>


</body>
</html>