<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" sizes="180x180" href="../../resources/img/guide/favicon_180.png">
	<link rel="icon" type="image/png" sizes="512x512" href="../../resources/img/guide/favicon_512.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="../../resources/img/guide/favicon_192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../../resources/img/guide/favicon_32.png">
	<title>GINI - Global Innopolis Network Initiative</title>
	<link href="../../resources/css/swiper-bundle.min.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/pattern_css.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/output/p_common.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/output/p_content.css" type="text/css" rel="stylesheet" />
	<link href="../../resources/css/output/p_layout.css" type="text/css" rel="stylesheet" />

	 <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css' rel='stylesheet' />
	<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/locales/ko.global.min.js"></script>

</head>

<style>

	.type1{
		margin-bottom : 20px;
	
	}
	#content{
		    width: 80%;
    		margin: 0 auto;
			margin-bottom: 5%;
			margin-top: 2%;
	}
	 
	#btBox{
		 display: flex
;
   		 justify-content: flex-end;
   		 
   		 margin:10px;
	
	}
	.taxindate{
	    align-items: center;
		display: flex;
	}

	.topBox{
	
	    display: flex;
	    align-items: center;
	    justify-content: space-between;
	}
	
</style>
<body>
<div id="wrap">

		<div class="right ">
			<!-- <button type="button" class="btn-navi sch" title="통합검색 레이어" onclick="common.popupEvent('#popTotalSch');">통합검색</button> -->
		</div>
			<!-- //모바일 : 전체메뉴 -->
		<!-- //헤더 영역 -->

		<!-- 컨테이너 영역 -->
		<div id="container">
			<!-- breadcrumb -->
			<nav class="breadcrumb-wrap" aria-label="브레드크럼">
				<ol class="breadcrumb">
					<li class="home"><a href="#" class="txt">Home</a></li>
					<li><a href="#" class="txt">BOARD</a></li>
				</ol>
			</nav>
			<!-- breadcrumb -->
	<div class="inner">
				<!-- 페이지 타이틀 영역 -->
				<div class="page-title-wrap">
					<h2 class="h-tit">News</h2>
				</div>
				<!-- //페이지 타이틀 영역 -->
				<!-- 게시판목록 영역 -->
				 <div class="board-box">
					<!-- 검색 입력폼 -->
					<div class="search-top-box">
						<div class="sch-form-wrap flex">
							<div class="sch-input">
								<input type="text" class="form-control searchKeyword" placeholder="Enter Keyword" title="Enter Keyword"
								name="searchKeyword" id="searchKeyword">
								<button type="button" class="btn btn-ico ico-sch" id="search">
									<span class="sr-only">검색</span>
								</button>
							</div>
							<button type="button" class="btn btn-txt primary" style="
    						width: 150px; onclick="location.href='/distep/board/boardPage.do'">Write Post</button>
						</div>
					</div>
					<!-- //검색 입력폼 -->
					<!-- 검색 결과 : 리스트 상단 -->
					 <div class="search-list-top type1">
						<div class="sch-info" role="region" aria-live="polite">
							전체 <span class="keyword">00</span>건
						</div>
					</div>
					<!-- //검색 결과 : 리스트 상단 -->

					<!-- 검색 결과 : 리스트 -->
					<ul class="search-list type1 stb">
						<li class="li">
							<div class="in">
								<div class="card-top">
									<span class="krds-badge">신청중</span>
								</div>
								<div class="card-body">
									<a href="#" class="c-text">
										<p class="c-tit"><span class="span">News Tile</span></p>
										<p class="c-txt">
											News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner 
										</p>
										<p class="c-date">
											<strong class="key">신청 기간</strong>
											<span class="value">2023.11.01-2024.04.30</span>
										</p>
									</a>
									
									<div class="c-btn">
										<a href="#" class="btn md secondary" title="산모·신생아 건강관리 지원사업">신청하기</a>
									</div>
								</div>
								<div class="card-btm">
									<span class="tag">청소년</span>
									<span class="tag">영유아</span>
								</div>
								<div class="card-btn">
									<button type="button" class="btn sm btn-txt ico-share ico-before" title="산모·신생아 건강관리 지원사업">공유하기</button>
									<button type="button" class="btn sm btn-txt ico-like ico-before" title="산모·신생아 건강관리 지원사업">찜하기</button>
								</div>
							</div>
						</li>
						<li class="li">
							<div class="in">
								<div class="card-top">
									<span class="krds-badge">신청중</span>
								</div>
								<div class="card-body">
									<a href="#" class="c-text">
										<p class="c-tit"><span class="span">News Tile</span></p>
										<p class="c-txt">
											News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner News inner 
										</p>
										<p class="c-date">
											<strong class="key">신청 기간</strong>
											<span class="value">2023.11.01-2024.04.30</span>
										</p>
									</a>
									<div class="c-btn">
										<a href="#" class="btn md secondary" title="저소득층 기저귀·조제분유 지원">신청하기</a>
									</div>
								</div>
								<div class="card-btm">
									<span class="tag">청소년</span>
									<span class="tag">영유아</span>
								</div>
								<div class="card-btn">
									<button type="button" class="btn sm btn-txt ico-share ico-before" title="저소득층 기저귀·조제분유 지원">공유하기</button>
									<button type="button" class="btn sm btn-txt ico-like ico-before" title="저소득층 기저귀·조제분유 지원">찜하기</button>
								</div>
							</div>
						</li>
					</ul>
					<!-- //검색 결과 : 리스트 -->

					<!-- 검색 결과 : 리스트 상단 -->
				<!-- 	
					 <div class="search-list-top type1">
						<div class="sch-info" role="region" aria-live="polite">
							전체 <span class="">00</span>건
						</div>
					</div>
				<ul class="search-list">
					<li class="li">
						<div class="card-img" style="background-image:url(/resources/img/component/common/bg_highLevelMeeing.jpg)"></div>
						<div class="card-top">
							<span class="krds-badge">신청중</span>
						</div>
						<div class="card-body">
							<a href="#" class="c-text">
								<p class="c-tit"><span class="span">산모·신생아 건강관리 지원사업</span></p>
								<p class="c-txt">
									다문화가정의 자녀가 건강한 사회구성원, 글로벌 인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.다문화가정의 자녀가 건강한 사회구성원, 글로벌
									인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.
								</p>
								<p class="c-date">
									<strong class="key">신청 기간</strong>
									<span class="value">2023.11.01-2024.04.30</span>
								</p>
							</a>
							<div class="c-btn">
								<a href="#" class="btn md secondary" title="산모·신생아 건강관리 지원사업">신청하기</a>
							</div>
						</div>
						<div class="card-btm">
							<span class="tag">청소년</span>
							<span class="tag">영유아</span>
						</div>
						<div class="card-btn">
							<button type="button" class="btn sm btn-txt ico-share ico-before" title="산모·신생아 건강관리 지원사업">공유하기</button>
							<button type="button" class="btn sm btn-txt ico-like ico-before" title="산모·신생아 건강관리 지원사업">찜하기</button>
						</div>
					</li>
					<li class="li">
						<div class="card-img" style="background-image:url(/resources/img/component/common/bg_highLevelMeeing.jpg)"></div>
						<div class="card-top">
							<span class="krds-badge">신청중</span>
						</div>
						<div class="card-body">
							<a href="#" class="c-text">
								<p class="c-tit"><span class="span">저소득층 기저귀·조제분유 지원</span></p>
								<p class="c-txt">
									다문화가정의 자녀가 건강한 사회구성원, 글로벌 인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.
								</p>
								<p class="c-date">
									<strong class="key">신청 기간</strong>
									<span class="value">2023.11.01-2024.04.30</span>
								</p>
							</a>
							<div class="c-btn">
								<a href="#" class="btn md secondary" title="저소득층 기저귀·조제분유 지원">신청하기</a>
							</div>
						</div>
						<div class="card-btm">
							<span class="tag">청소년</span>
							<span class="tag">영유아</span>
						</div>
						<div class="card-btn">
							<button type="button" class="btn sm btn-txt ico-share ico-before" title="저소득층 기저귀·조제분유 지원">공유하기</button>
							<button type="button" class="btn sm btn-txt ico-like ico-before" title="저소득층 기저귀·조제분유 지원">찜하기</button>
						</div>
					</li>
					<li class="li">
						<div class="card-img" style="background-image:url(/resources/img/component/common/bg_highLevelMeeing.jpg)"></div>
						<div class="card-top">
							<span class="krds-badge bg3">방문 신청</span>
						</div>
						<div class="card-body">
							<a href="#" class="c-text">
								<p class="c-tit"><span class="span">여성장애인출산비용지원</span></p>
								<p class="c-txt">
									다문화가정의 자녀가 건강한 사회구성원, 글로벌 인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.
								</p>
								<p class="c-date">
									<strong class="key">신청 기간</strong>
									<span class="value">2023.11.01-2024.04.30</span>
								</p>
							</a>
							<div class="c-btn">
								<a href="#" class="btn md secondary" title="여성장애인출산비용지원">신청하기</a>
							</div>
						</div>
						<div class="card-btm">
							<span class="tag">청소년</span>
							<span class="tag">영유아</span>
						</div>
						<div class="card-btn">
							<button type="button" class="btn sm btn-txt ico-share ico-before" title="여성장애인출산비용지원">공유하기</button>
							<button type="button" class="btn sm btn-txt ico-like ico-before" title="여성장애인출산비용지원">찜하기</button>
						</div>
					</li>
					<li class="li">
						<div class="card-top">
							<span class="krds-badge">신청중</span>
						</div>
						<div class="card-body">
							<a href="#" class="c-text">
								<p class="c-tit"><span class="span">기초연금기초연금</span></p>
								<p class="c-txt">
									다문화가정의 자녀가 건강한 사회구성원, 글로벌 인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.
								</p>
								<p class="c-date">
									<strong class="key">신청 기간</strong>
									<span class="value">2023.11.01-2024.04.30</span>
								</p>
							</a>
							<div class="c-btn">
								<a href="#" class="btn md secondary" title="기초연금기초연금">신청하기</a>
							</div>
						</div>
						<div class="card-btm">
							<span class="tag">청소년</span>
							<span class="tag">영유아</span>
						</div>
						<div class="card-btn">
							<button type="button" class="btn sm btn-txt ico-share ico-before" title="기초연금기초연금">공유하기</button>
							<button type="button" class="btn sm btn-txt ico-like ico-before" title="기초연금기초연금">찜하기</button>
						</div>
					</li>
					<li class="li">
						<div class="card-top">
							<span class="krds-badge bg2">신청예정</span>
						</div>
						<div class="card-body">
							<a href="#" class="c-text">
								<p class="c-tit"><span class="span">차상위계층확인사업</span></p>
								<p class="c-txt">
									다문화가정의 자녀가 건강한 사회구성원, 글로벌 인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.
								</p>
								<p class="c-date">
									<strong class="key">신청 기간</strong>
									<span class="value">2023.11.01-2024.04.30</span>
								</p>
							</a>
							<div class="c-btn">
								<a href="#" class="btn md secondary" disabled="" title="차상위계층확인사업">신청하기</a>
							</div>
						</div>
						<div class="card-btm">
							<span class="tag">청소년</span>
							<span class="tag">영유아</span>
						</div>
						<div class="card-btn">
							<button type="button" class="btn sm btn-txt ico-share ico-before" title="차상위계층확인사업">공유하기</button>
							<button type="button" class="btn sm btn-txt ico-like ico-before" title="차상위계층확인사업">찜하기</button>
						</div>
					</li>
					<li class="li">
						<div class="card-top">
							<span class="krds-badge bg2">신청마감</span>
						</div>
						<div class="card-body">
							<a href="#" class="c-text">
								<p class="c-tit"><span class="span">부모급여 지원</span></p>
								<p class="c-txt">
									다문화가정의 자녀가 건강한 사회구성원, 글로벌 인재로 성장할 수 있도록 체계적인 언어발달을 돕습니다.
								</p>
								<p class="c-date">
									<strong class="key">신청 기간</strong>
									<span class="value">2023.11.01-2024.04.30</span>
								</p>
							</a>
							<div class="c-btn">
								<a href="#" class="btn md secondary" disabled="" title="부모급여 지원">신청하기</a>
							</div>
						</div>
						<div class="card-btm">
							<span class="tag">청소년</span>
							<span class="tag">영유아</span>
						</div>
						<div class="card-btn">
							<button type="button" class="btn sm btn-txt ico-share ico-before" title="부모급여 지원">공유하기</button>
							<button type="button" class="btn sm btn-txt ico-like ico-before" title="부모급여 지원">찜하기</button>
						</div>
					</li>
					
					
					</ul> -->
					<!-- //검색 결과 : 이미지 -->

					

					<!-- paging : 웹 -->
					<div class="pagination w-page paging">
						<div class="row justify-content-center" id="divPagingArea">
					
						</div>
				</div>
					</div>
					</div>
					<!-- //paging : 웹 -->

	<!-- 레이어 : 검색필터 -->
	<!-- //레이어 : 검색필터 -->

	<!-- 스크립트 : 라이브러리 -->
	<script src="../../resources/js/pattern/jquery.min.js"></script>
	
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<!-- 스크립트 : 패턴 페이지 -->
	
	<script src="../../resources/js/pattern/ui-pattern-script.js"></script>
	

	<!-- 스크립트 : 컴포넌트 -->
	<script src="../../resources/js/component/ui-script.js"></script>
	<script>
		/* layer : 검색필터 */
		const $tag = document.querySelector(".pop-filter-top .tag-in");
		const $tagBtn = document.querySelector(".pop-filter-top #btn-toggle");
		if ($tagBtn) {
			$tagBtn.addEventListener("click", (e) => {
				if (!e.target.classList.contains("active")) {
					$tag.classList.add("is-open");
					e.target.classList.add("active");
				} else {
					$tag.classList.remove("is-open");
					e.target.classList.remove("active");
				}
			});
		}
	</script>

	<script>
	

	document.getElementById("search").addEventListener("click", function () {
		
		  const keyword = document.getElementById("searchKeyword").value;
			console.log("keyword",keyword)
		  changeSort(1, keyword); // 검색 시 1페이지부터 다시 시작
		});


	changeSort()

	function changeSort(currentPage = 1, keyword) {
	  let data = { currentPage: currentPage, keyword:keyword };

	  axios.post('/distep/board/listAjax.do', data)
	    .then(function (res) {
	      let content = document.querySelector(".stb");
	      let Listdata = res.data.content;
	      let tby = '';
	      let tby2 = '';
			let getTotal = res.data.total
			console.log(getTotal)
			
			
			let totalkeyword = document.querySelector(".keyword")
			totalkeyword.innerText = getTotal
	      for (let list of Listdata) {
	    	  tby += `
	          <tr>
	            <th><a href="/distep/board/detail.do?boardCode=\${list.boardCode}">\${list.title}</a></th>
	            <td>\${list.content.length > 90 ? list.content.slice(0, 90) + '...' : list.content}</td>
	            <td>\${list.regDate}</td>
	            <td>\${list.userId}</td>
	          </tr>`;
	          
	       
	          tby2 += `
	          
					<li class="li">
						<div class="in">
							<div class="card-top">
							</div>
							<div class="card-body" onclick="location.href='/distep/board/detail.do?boardCode=\${list.boardCode}'">
								<a href="#" class="c-text">
									<p class="c-tit"><span class="span">\${list.title}</span></p>
									<p class="c-txt">
									\${list.content.length > 100 ? list.content.slice(0, 100) + '...' : list.content}	</p>
									<p class="c-date">
										<strong class="key">Created Date</strong>
										<span class="value">\${list.regDate}</span>
									</p>
								</a>
								
								<div class="c-btn">
									<a href="/distep/board/detail.do?boardCode=\${list.boardCode}" class="btn md secondary" title="View Details">View Details</a>
								</div>
							</div>
							</div>
						</div>
					</li>
					
	          `; 
	          
	      }
	      content.innerHTML = tby2;

	      document.querySelector("#divPagingArea").innerHTML = res.data.pagingArea;
	      bindPagingEvents(); //  새 페이징에 이벤트 다시 바인딩
	    });
	}
	function bindPagingEvents() {
		  document.querySelectorAll(".clsPagingArea").forEach(function (el) {
		    el.addEventListener("click", function (e) {
		      e.preventDefault();
		      const currentPage = parseInt(this.dataset.currentPage);
		      const keyword = this.dataset.keyword || '';
		      console.log(":page",currentPage)
		      changeSort(currentPage, keyword);
		    });
		  });
		}
		
		/* 

    document.addEventListener('DOMContentLoaded', function () {
		const calendarEl = document.getElementById('calendar');

		const calendar = new FullCalendar.Calendar(calendarEl, {
			locale: 'en',               // 한국어
			initialView: 'dayGridMonth',
			selectable: true,          // 드래그 또는 클릭으로 선택 허용
			editable: true,            // 드래그로 이동/수정 가능
			headerToolbar: {
			// left: 'timeGridDay', //dayGridMonth,timeGridWeek
			left: 'title',
			right: 'prev,today,next'
			},

			// 날짜 클릭 → 새 이벤트 생성
			dateClick: function (info) {
			const title = prompt('일정 제목을 입력하세요:');
			if (title) {
				calendar.addEvent({
				title: title,
				start: info.dateStr,
				allDay: true
				});
			}
			},

			// 이벤트 클릭 → 수정
			eventClick: function (info) {
			const newTitle = prompt('수정할 제목을 입력하세요:', info.event.title);
			if (newTitle !== null) {
				info.event.setProp('title', newTitle);
			}
			}
		});

		calendar.render();
		}); */
	</script>

</body>
</html>